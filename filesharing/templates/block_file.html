<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>File Block</title>
</head>
<script crossorigin="anonymous"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
        src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
<!-- Bootstrap core CSS -->
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">

<style>
    .center {
  margin: auto;
  width: 50%;
  border: 3px dotted blue;
  padding: 10px;
}




</style>

<body>
<body data-gr-c-s-loaded="true">
<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="http://127.0.0.1:8000/file/Lists/" style="display: inline;">File List</a>
                <a class="nav-link" href="http://127.0.0.1:8000/file/Upload/" style="display: inline;">Upload</a>
                <a class="nav-link" href="http://127.0.0.1:8000/file/Block/" style="display: inline;">Block File</a>
                <a class="nav-link" href="http://127.0.0.1:8000/file/Unblock/" style="display: inline;">UnBlock File</a>
                 <a class="nav-link" href="http://127.0.0.1:8000/file/Admin/" style="display: inline;">Admin</a>
            </li>

        </ul>
    </div>
</nav>
<!-- HTML5 Input Form Elements -->
<div class="center" style=" margin-top:200px; border:none">
    <h2> File Block Info </h2>
</div>
<div class="center">
    <label for="file">File Id</label>
    <input id="fileId" style="margin-bottom:20px;" type="text">

    <br>
    <label for="file">Reason for file block ( Say something why you want this file to be block )</label>
    <br>
    <textarea cols="65" id="description" name="Text1" rows="5"></textarea>
    <br>
    <button class="btn btn-success" id="block-button" onclick="blockFile()"> Submit</button>
</div>

<!-- Ajax JavaScript File Upload Logic -->
<script>
async function blockFile() {
    let formData = new FormData();
    let fileId = document.getElementById('fileId').value;
    let url = 'http://127.0.0.1:8000/file/file_block/' + fileId + '/';
    let desc = document.getElementById('description').value;
    formData.append("description", desc);
    async function makeRequest() {
  try {
    const response =     await fetch(url, {
            method: "PUT",
            body: formData
        });
    if(response.status == 200)
    {
       alert('Your request for unblocking submitted successfully.');
    }
    else
    {
       alert('please provide a valid id');
    }

  } catch (err) {
    console.log(err);
  }
}

makeRequest();

}


</script>
</body>
</html>